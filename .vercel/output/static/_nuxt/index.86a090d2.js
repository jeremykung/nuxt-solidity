import{_ as ae,a as ue,b as re}from"./Divider.9f7fdc15.js";import{g as m,i as X,r as k,h as D,j as y,_ as U,m as M,k as h,l as R,n as W,q as A,s as H,v as z,o as r,c as p,a as u,x as L,y as T,z as C,b as S,A as $,B as de,C as ce,D as fe,E as me,F as V,w as _,G as ge,H as ve,I as le,t as O,J as G,d as Y,K as ye,L as ne,M as pe}from"./entry.332681bd.js";import"./nuxt-link.07523776.js";function ee(e){return typeof e=="function"?e():m(e)}const te=()=>{};function be(e,a){function l(...t){return new Promise((i,s)=>{Promise.resolve(e(()=>a.apply(this,t),{fn:a,thisArg:this,args:t})).then(i).catch(s)})}return l}function he(e,a={}){let l,t,i=te;const s=o=>{clearTimeout(o),i(),i=te};return o=>{const d=ee(e),g=ee(a.maxWait);return l&&s(l),d<=0||g!==void 0&&g<=0?(t&&(s(t),t=null),Promise.resolve(o())):new Promise((f,v)=>{i=a.rejectOnCancel?v:f,g&&!t&&(t=setTimeout(()=>{l&&s(l),t=null,f(o())},g)),l=setTimeout(()=>{t&&s(t),t=null,f(o())},d)})}}function _e(e,a=200,l={}){return be(he(a,l),e)}const oe=(e,a)=>{const l=X("form-events",void 0),t=X("form-group",void 0),i=X("form-inputs",void 0),s=k(e==null?void 0:e.id);D(()=>{s.value=(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value),t&&(t.inputId.value=s.value,i&&(i.value[t.name.value]=s))});const n=k(!1);function o(v,b){l&&l.emit({type:v,path:b})}function d(){o("blur",t==null?void 0:t.name.value),n.value=!0}function g(){o("change",t==null?void 0:t.name.value)}const f=_e(()=>{n.value&&o("input",t==null?void 0:t.name.value)},300);return{inputId:s,name:y(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:y(()=>{var b;const v=a.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??v??((b=a==null?void 0:a.default)==null?void 0:b.size)}),color:y(()=>{var v;return(v=t==null?void 0:t.error)!=null&&v.value?"red":e==null?void 0:e.color}),emitFormBlur:d,emitFormInput:f,emitFormChange:g}},w=M(h.ui.strategy,h.ui.input,de),$e=R({components:{UIcon:ae},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>w.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(w.size).includes(e)}},color:{type:String,default:()=>w.default.color,validator(e){return[...h.ui.colors,...Object.keys(w.color)].includes(e)}},variant:{type:String,default:()=>w.default.variant,validator(e){return[...Object.keys(w.variant),...Object.values(w.color).flatMap(a=>Object.keys(a))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","blur"],setup(e,{emit:a,slots:l}){const{ui:t,attrs:i}=W("input",A(e,"ui"),w,A(e,"class")),{emitFormBlur:s,emitFormInput:n,size:o,color:d,inputId:g,name:f}=oe(e,w),v=k(null),b=()=>{var I;e.autofocus&&((I=v.value)==null||I.focus())},j=I=>{a("update:modelValue",I.target.value),n()},E=I=>{s(),a("blur",I)};D(()=>{setTimeout(()=>{b()},e.autofocusDelay)});const J=y(()=>{var Z,x;const I=((x=(Z=t.value.color)==null?void 0:Z[d.value])==null?void 0:x[e.variant])||t.value.variant[e.variant];return H(z(t.value.base,t.value.rounded,t.value.placeholder,t.value.size[o.value],e.padded?t.value.padding[o.value]:"p-0",I==null?void 0:I.replaceAll("{color}",d.value),(c.value||l.leading)&&t.value.leading.padding[o.value],(N.value||l.trailing)&&t.value.trailing.padding[o.value]),e.inputClass)}),c=y(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),N=y(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),F=y(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),K=y(()=>e.loading&&!c.value?e.loadingIcon:e.trailingIcon||e.icon),P=y(()=>z(t.value.icon.leading.wrapper,t.value.icon.leading.pointer,t.value.icon.leading.padding[o.value])),Q=y(()=>z(t.value.icon.base,h.ui.colors.includes(d.value)&&t.value.icon.color.replaceAll("{color}",d.value),t.value.icon.size[o.value],e.loading&&"animate-spin")),q=y(()=>z(t.value.icon.trailing.wrapper,t.value.icon.trailing.pointer,t.value.icon.trailing.padding[o.value])),ie=y(()=>z(t.value.icon.base,h.ui.colors.includes(d.value)&&t.value.icon.color.replaceAll("{color}",d.value),t.value.icon.size[o.value],e.loading&&!c.value&&"animate-spin"));return{ui:t,attrs:i,name:f,inputId:g,input:v,isLeading:c,isTrailing:N,inputClass:J,leadingIconName:F,leadingIconClass:Q,leadingWrapperIconClass:P,trailingIconName:K,trailingIconClass:ie,trailingWrapperIconClass:q,onInput:j,onBlur:E}}}),Ie=["id","name","value","type","required","placeholder","disabled"];function we(e,a,l,t,i,s){const n=ae;return r(),p("div",{class:C(e.ui.wrapper)},[u("input",L({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled||e.loading,class:["form-input",e.inputClass]},e.attrs,{onInput:a[0]||(a[0]=(...o)=>e.onInput&&e.onInput(...o)),onBlur:a[1]||(a[1]=(...o)=>e.onBlur&&e.onBlur(...o))}),null,16,Ie),T(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(r(),p("span",{key:0,class:C(e.leadingWrapperIconClass)},[T(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[S(n,{name:e.leadingIconName,class:C(e.leadingIconClass)},null,8,["name","class"])])],2)):$("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(r(),p("span",{key:1,class:C(e.trailingWrapperIconClass)},[T(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[S(n,{name:e.trailingIconName,class:C(e.trailingIconClass)},null,8,["name","class"])])],2)):$("",!0)],2)}const Ce=U($e,[["render",we]]),B=M(h.ui.strategy,h.ui.textarea,me),ke=R({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(B.size).includes(e)}},color:{type:String,default:()=>B.default.color,validator(e){return[...h.ui.colors,...Object.keys(B.color)].includes(e)}},variant:{type:String,default:()=>B.default.variant,validator(e){return[...Object.keys(B.variant),...Object.values(B.color).flatMap(a=>Object.keys(a))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","blur"],setup(e,{emit:a}){const{ui:l,attrs:t}=W("textarea",A(e,"ui"),B,A(e,"class")),{emitFormBlur:i,emitFormInput:s,inputId:n,color:o,size:d,name:g}=oe(e,B),f=k(null),v=()=>{var c;e.autofocus&&((c=f.value)==null||c.focus())},b=()=>{if(e.autoresize){if(!f.value)return;f.value.rows=e.rows;const c=window.getComputedStyle(f.value),N=parseInt(c.paddingTop),F=parseInt(c.paddingBottom),K=N+F,P=parseInt(c.lineHeight),{scrollHeight:Q}=f.value,q=(Q-K)/P;q>e.rows&&(f.value.rows=q)}},j=c=>{b(),a("update:modelValue",c.target.value),s()},E=c=>{a("blur",c),i()};D(()=>{setTimeout(()=>{v()},e.autofocusDelay)}),ce(()=>e.modelValue,()=>{fe(b)}),D(()=>{setTimeout(()=>{v(),b()},100)});const J=y(()=>{var N,F;const c=((F=(N=l.value.color)==null?void 0:N[o.value])==null?void 0:F[e.variant])||l.value.variant[e.variant];return H(z(l.value.base,l.value.rounded,l.value.placeholder,l.value.size[d.value],e.padded?l.value.padding[d.value]:"p-0",c==null?void 0:c.replaceAll("{color}",o.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:l,attrs:t,name:g,inputId:n,textarea:f,textareaClass:J,onInput:j,onBlur:E}}}),Se=["id","value","name","rows","required","disabled","placeholder"];function Be(e,a,l,t,i,s){return r(),p("div",{class:C(e.ui.wrapper)},[u("textarea",L({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:["form-textarea",e.textareaClass]},e.attrs,{onInput:a[0]||(a[0]=(...n)=>e.onInput&&e.onInput(...n)),onBlur:a[1]||(a[1]=(...n)=>e.onBlur&&e.onBlur(...n))}),null,16,Se)],2)}const ze=U(ke,[["render",Be]]),je=M(h.ui.strategy,h.ui.card,ve),Ne=R({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:a,attrs:l}=W("card",A(e,"ui"),je),t=y(()=>H(z(a.value.base,a.value.rounded,a.value.divide,a.value.ring,a.value.shadow,a.value.background),e.class));return{ui:a,attrs:l,cardClass:t}}});function Ve(e,a,l,t,i,s){return r(),V(ge(e.$attrs.onSubmit?"form":e.as),L({class:e.cardClass},e.attrs),{default:_(()=>[e.$slots.header?(r(),p("div",{key:0,class:C([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[T(e.$slots,"header")],2)):$("",!0),u("div",{class:C([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[T(e.$slots,"default")],2),e.$slots.footer?(r(),p("div",{key:1,class:C([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[T(e.$slots,"footer")],2)):$("",!0)]),_:3},16,["class"])}const se=U(Ne,[["render",Ve]]),Oe=u("h1",{class:"text-left text-2xl"},"Create Post",-1),Fe={class:"font-light mt-2 text-slate-400 italic"},Te={class:"flex items-center justify-between"},Ae={class:""},De={class:"font-thin text-sm"},Ue={class:"text-sm font-thin italic"},qe={__name:"CreatePostForm",setup(e){const a=k(""),l=k(""),t=k(!1),i=le();async function s(){console.log("creating post for address:",i.account),t.value=!0;try{const n=await i.blogContract.methods.createPost(a.value,l.value).send({from:i.account});console.log("create post res:",n)}catch(n){console.log("error posting:",n)}t.value=!1}return(n,o)=>{const d=Ce,g=ze,f=ue,v=re,b=se;return r(),p("div",null,[Oe,u("p",Fe," Account: "+O(m(i).account),1),S(d,{modelValue:m(a),"onUpdate:modelValue":o[0]||(o[0]=j=>G(a)?a.value=j:null),color:"primary",variant:"outline",placeholder:"Post Title...",class:"my-4"},null,8,["modelValue"]),S(g,{modelValue:m(l),"onUpdate:modelValue":o[1]||(o[1]=j=>G(l)?l.value=j:null),color:"primary",variant:"outline",placeholder:"Post Content...",class:"mb-4"},null,8,["modelValue"]),m(t)?(r(),V(f,{key:0,variant:"ghost",loading:"",block:""},{default:_(()=>[Y("Posting...")]),_:1})):$("",!0),m(t)?$("",!0):(r(),V(f,{key:1,onClick:s,block:""},{default:_(()=>[Y("Create Post")]),_:1})),m(a)?(r(),V(v,{key:2,class:"mt-8",label:"Preview",ui:{label:"font-light text-gray-400 dark:text-gray-400"}})):$("",!0),m(a)?(r(),V(b,{key:3,class:"my-8"},{header:_(()=>[u("div",Te,[u("h2",Ae,O(m(a)),1)])]),footer:_(()=>[u("p",Ue,O(m(i).account),1)]),default:_(()=>[u("p",De,O(m(l)),1)]),_:1})):$("",!0)])}}},Me=qe,Re=M(h.ui.strategy,h.ui.skeleton,ye),We=R({inheritAttrs:!1,props:{class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:a,attrs:l}=W("skeleton",A(e,"ui"),Re),t=y(()=>H(z(a.value.base,a.value.background,a.value.rounded),e.class));return{ui:a,attrs:l,skeletonClass:t}}});function He(e,a,l,t,i,s){return r(),p("div",L({class:e.skeletonClass},e.attrs),null,16)}const Le=U(We,[["render",He]]),Ee=u("h1",{class:"text-2xl mb-8"},"Posts",-1),Je={key:0,class:"font-thin italic text-slate-400"},Ke={key:1,class:"font-thin italic text-slate-400"},Pe={class:""},Qe={class:"font-thin text-sm"},Xe={class:"text-sm font-thin italic"},Ye={__name:"DisplayPosts",setup(e){const a=le(),l=k(null),t=k("Create your first post on the left");setInterval(i,2e3);async function i(){if(a.account){let s=await a.blogContract.methods.getAllPosts(a.account).call();s=s.map(n=>(n[0]=Number(n[0]),n[4]=Number(n[4]),n[5]=Number(n[5]),n.timestamp=Number(n.timestamp),n.id=Number(n.id),n.likes=Number(n.likes),n)),l.value=s,l.value.length>0&&(t.value="Loading Posts...")}}return D(async()=>{i()}),(s,n)=>{const o=Le,d=se;return r(),p("div",null,[Ee,m(a).account?$("",!0):(r(),p("p",Je," Please connect wallet to see your posts ")),m(l)&&m(l).length===0?(r(),p("p",Ke," Create your first post on the left ")):$("",!0),m(a).account&&!m(l)?(r(),V(d,{key:2,class:"mb-8"},{header:_(()=>[S(o,{class:"h-4 w-[150px]"})]),default:_(()=>[S(o,{class:"h-4 w-[250px] mb-4"}),S(o,{class:"h-4 w-[200px]"})]),_:1})):$("",!0),(r(!0),p(ne,null,pe(m(l),g=>(r(),V(d,{class:"mb-8"},{header:_(()=>[u("h2",Pe,O(g.title),1)]),footer:_(()=>[u("p",Xe,O(g.author),1)]),default:_(()=>[u("p",Qe,O(g.content),1)]),_:2},1024))),256))])}}},Ze=Ye,xe={},Ge=u("div",{class:"mb-8"},[u("h1",{class:"text-2xl mb-2"},"Quick Start Guide"),u("div",{class:"font-thin text-gray-400"},[u("p",null,"1. Install Metamask & switch to Sepolia Test Network"),u("p",null,[Y(" 2. Get some test "),u("a",{class:"text-primary",target:"_blank",href:"https://sepoliafaucet.com/"},"Sepolia Eth")]),u("p",null,"3. Create a new post that will live on-chain")])],-1),et={class:"md:flex md:flex-row w-full md:justify-between flex-col"};function tt(e,a){const l=Me,t=Ze;return r(),p(ne,null,[Ge,u("div",et,[S(l,{class:"md:w-2/5 w-full"}),S(t,{class:"md:w-2/5 md:mt-0 mt-8"})])],64)}const ot=U(xe,[["render",tt]]);export{ot as default};
